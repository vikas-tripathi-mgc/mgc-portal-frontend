{"version":3,"file":"default-node_modules_fullcalendar_angular___ivy_ngcc___fesm2015_fullcalendar-angular_js-node_-1e48de.js","mappings":"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","sources":["./node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","./node_modules/@fullcalendar/common/main.js","./node_modules/@fullcalendar/common/vdom.js","./node_modules/@fullcalendar/core/main.js","./node_modules/@fullcalendar/core/vdom.js","./node_modules/@fullcalendar/daygrid/main.js","./node_modules/@fullcalendar/interaction/main.js","./node_modules/@fullcalendar/list/main.js","./node_modules/@fullcalendar/timegrid/main.js","./node_modules/fast-deep-equal/index.js","./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/@fullcalendar/common/main.css?269c","webpack:///./node_modules/@fullcalendar/daygrid/main.css?2000","webpack:///./node_modules/@fullcalendar/list/main.css?c118","webpack:///./node_modules/@fullcalendar/timegrid/main.css?94b0"],"sourcesContent":["import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;font-size:.85em;font-size:var(--fc-small-font-size,.85em);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{ selector: 'full-calendar', template: '', encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                , styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;font-size:.85em;font-size:var(--fc-small-font-size,.85em);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"] }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵfac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE, // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        var stuff = contentTypeHandlers[contentKey]();\n                        customContentInfo = this.customContentInfo = __assign({ contentKey: contentKey, contentVal: innerContent[contentKey] }, stuff);\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type, // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker) // don't move if date already in view\n            ) {\n                return dateProfileGenerator.build(action.dateMarker);\n            }\n            break;\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (segInputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, segInputs_1 = segInputs; _i < segInputs_1.length; _i++) {\n            var segInput = segInputs_1[_i];\n            this.insertEntry({\n                segInput: segInput,\n                spanStart: segInput.spanStart,\n                spanEnd: segInput.spanEnd,\n                thickness: segInput.thickness,\n            }, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        if (entry.spanStart < barrier.spanStart) {\n            partCnt += this.insertEntry(__assign(__assign({}, entry), { spanStart: entry.spanStart, spanEnd: barrier.spanStart }), splitHiddenEntries);\n        }\n        if (barrier.spanEnd < entry.spanEnd) {\n            partCnt += this.insertEntry(__assign(__assign({}, entry), { spanStart: barrier.spanEnd, spanEnd: entry.spanEnd }), splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([__assign(__assign({}, entry), { spanStart: Math.max(barrier.spanStart, entry.spanStart), spanEnd: Math.min(barrier.spanEnd, entry.spanEnd) })], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var nextLevel = insertion.nextLevel;\n        // create a new level\n        if (!nextLevel || this.levelCoords[nextLevel - 1] < insertion.levelCoord) {\n            insertAt(this.levelCoords, nextLevel, insertion.levelCoord);\n            insertAt(this.entriesByLevel, nextLevel, [entry]);\n            // insert into existing level\n        }\n        else {\n            insertAt(this.entriesByLevel[nextLevel - 1], insertion.lateralEnd, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, stackCnts = _a.stackCnts, strictOrder = _a.strictOrder;\n        var levelCnt = levelCoords.length;\n        var level; // running value while iterating all segs\n        var levelCoord; // \"\n        var lateralStart = 0; // \"\n        var lateralEnd = 0; // \"\n        var resCoord = 0; // the levelCoord for newSeg\n        var touchingEntry = null;\n        for (level = 0; level < levelCnt; level += 1) {\n            levelCoord = levelCoords[level];\n            // if the current level is past the placed entry, we have found a good\n            // empty space and can stop. only if not strict-ordering mode.\n            if (!strictOrder && levelCoord >= resCoord + newEntry.thickness) {\n                break;\n            }\n            var entries = entriesByLevel[level];\n            var entry = void 0;\n            var searchRes = binarySearch(entries, newEntry.spanStart, getEntrySpanEnd);\n            lateralStart = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            lateralEnd = lateralStart;\n            while ( // loop through entries that horizontally intersect\n            (entry = entries[lateralEnd]) && // but not past the whole entry list\n                entry.spanStart < newEntry.spanEnd) {\n                if (strictOrder ||\n                    ( // vertically intersects?\n                    resCoord < levelCoord + entry.thickness &&\n                        resCoord + newEntry.thickness > levelCoord)) {\n                    // push down the potential destination\n                    touchingEntry = entry;\n                    resCoord = levelCoord + entry.thickness; // move to bottom of colliding entry\n                }\n                lateralEnd += 1;\n            }\n        }\n        return {\n            levelCoord: resCoord,\n            nextLevel: level,\n            lateralStart: lateralStart,\n            lateralEnd: lateralEnd,\n            touchingEntry: touchingEntry,\n            stackCnt: touchingEntry ? stackCnts[buildEntryKey(touchingEntry)] + 1 : 0,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.spanEnd;\n}\nfunction buildEntryKey(entry) {\n    return entry.segInput.index + ':' + entry.spanStart;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            spanStart: entry.spanStart,\n            spanEnd: entry.spanEnd,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (merge.spanStart < hungryMerge.spanEnd && merge.spanEnd > hungryMerge.spanStart) { // collides?\n                hungryMerge = {\n                    spanStart: Math.min(merge.spanStart, hungryMerge.spanStart),\n                    spanEnd: Math.max(merge.spanEnd, hungryMerge.spanEnd),\n                    entries: merge.entries.concat(hungryMerge.entries), // keep preexisting merge's items first. maintains order\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: typeof moreLinkText === 'function'\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick); })),\n                _this.state.isPopoverOpen && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.7.2'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEntrySpanEnd, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, memoize, MoreLinkRoot, getSegMeta, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: handleClick }, innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n        var options = context.options;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                spanStart: seg.firstCol,\n                spanEnd: seg.lastCol + 1,\n                thickness: eventHeight,\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.segInput.index];\n        multiColPlacements[hiddenEntry.spanStart].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenEntry.spanStart; col < hiddenEntry.spanEnd; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.segInput.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.segInput.index];\n            var isAbsolute = rect.spanEnd - rect.spanStart > 1; // multi-column?\n            var isFirstCol = rect.spanStart === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.spanStart, rect.spanEnd, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.spanStart, rect.spanEnd, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: 0,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.spanStart; col < rect.spanEnd; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var level = insertion.nextLevel - 1;\n        if (this.hiddenConsumes && level >= 0) {\n            for (var lateral = insertion.lateralStart; lateral < insertion.lateralEnd; lateral += 1) {\n                var leadingEntry = entriesByLevel[level][lateral];\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, leadingEntry), { spanStart: Math.max(leadingEntry.spanStart, entry.spanStart), spanEnd: Math.min(leadingEntry.spanEnd, entry.spanEnd) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    if (!forceHidden[placeholderEntryId]) {\n                        forceHidden[placeholderEntryId] = true;\n                        entriesByLevel[level][lateral] = placeholderEntry;\n                        this.splitEntry(leadingEntry, entry, hiddenEntries); // split up the leadingEntry\n                    }\n                }\n                else {\n                    var placeholderEntryId = buildEntryKey(leadingEntry);\n                    if (!forceHidden[placeholderEntryId]) {\n                        forceHidden[placeholderEntryId] = true;\n                        hiddenEntries.push(leadingEntry);\n                    }\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                eventInstanceHeights: this.queryEventInstanceHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return colPlacements;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getDateMeta, buildNavLinkData, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.props, dayDate = _a.dayDate, todayRange = _a.todayRange;\n        var _b = this.context, theme = _b.theme, dateEnv = _b.dateEnv, options = _b.options, viewApi = _b.viewApi;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var navLinkData = options.navLinks\n            ? buildNavLinkData(dayDate)\n            : null;\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, text: text,\n            sideText: sideText,\n            navLinkData: navLinkData }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { colSpan: 3 },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    var navLinkAttrs = props.navLinkData // is there a type for this?\n        ? { 'data-navlink': props.navLinkData, tabIndex: 0 }\n        : {};\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ className: \"fc-list-day-text\" }, navLinkAttrs), props.text)),\n        props.sideText && (createElement(\"a\", __assign({ className: \"fc-list-day-side-text\" }, navLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: renderEventInnerContent, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context),\n            createElement(\"td\", { className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { className: \"fc-list-event-title\", ref: innerElRef }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(props) {\n    var event = props.event;\n    var url = event.url;\n    var anchorAttrs = url ? { href: url } : {};\n    return (createElement(\"a\", __assign({}, anchorAttrs), event.title));\n}\nfunction buildTimeContent(seg, timeFormat, context) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { className: ['fc-list-event-time'].concat(classNames).join(' '), ref: rootElRef }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = dayDates[dayIndex].toISOString();\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction computeFgSegPlacements(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.spanStart, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.spanStart < subjectEntry.spanEnd) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        _this.computeFgSegPlacements = memoize(computeFgSegPlacements); // only for non-print, non-mirror\n        return _this;\n    }\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        if (props.slatCoords) {\n            return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n        }\n        return null;\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict;\n        var _b = this.props, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segInputs = this.buildSegInputs(segs);\n        var _c = isMirror ? computeFgSegPlacements(segInputs) : // don't use memoized\n            this.computeFgSegPlacements(segInputs, eventOrderStrict, eventMaxStack), segRects = _c.segRects, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segRects.map(function (segRect) {\n                var seg = segs[segRect.segInput.index];\n                var instanceId = seg.eventRange.instance.instanceId;\n                var positionCss = __assign(__assign({}, _this.computeSegTopBottomCss(segRect.segInput)), (isMirror ? { left: 0, right: 0 } : _this.computeSegLeftRightCss(segRect)));\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' + (segRect.stackForward > 0 ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign({ visibility: segIsInvisible[instanceId] ? 'hidden' : '' }, positionCss) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: (segRect.spanEnd - segRect.spanStart) < eventShortHeight }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _this = this;\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = _this.computeSegTopBottomCss(hiddenGroup);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.buildSegInputs = function (segs) {\n        var _a = this.props, date = _a.date, slatCoords = _a.slatCoords;\n        var eventMinHeight = this.context.options.eventMinHeight;\n        var segInputs = [];\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, date);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // yuck\n            slatCoords.computeDateTop(seg.end, date));\n            segInputs.push({\n                index: i,\n                spanStart: Math.round(spanStart),\n                spanEnd: Math.round(spanEnd),\n                thickness: 1,\n            });\n        }\n        return segInputs;\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _this = this;\n        var props = this.props;\n        if (!props.slatCoords) {\n            return null;\n        }\n        var segInputs = this.buildSegInputs(segs);\n        var children = segInputs.map(function (segInput) {\n            var seg = segs[segInput.index];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: _this.computeSegTopBottomCss(segInput) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegTopBottomCss = function (segLike) {\n        return {\n            top: segLike.spanStart,\n            bottom: -segLike.spanEnd,\n        };\n    };\n    TimeCol.prototype.computeSegLeftRightCss = function (segRect) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segRect.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segRect.levelCoord + segRect.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segRect.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segRect.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.segInput.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function w(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(E.prototype=new n).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var R=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),R&&R(n)};var x=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function N(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=x,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var k=function(n,t){return null==n?null:r(r(n).map(t))},A={map:k,forEach:k,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},O=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);O(n,t,e,r)};var T=e.unmount;function I(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return I(n,t,e)})),n}function L(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function U(){this.__u=0,this.t=null,this.__b=null}function D(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function F(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function M(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),T&&T(n)},(U.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=D(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=L(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},U.prototype.componentWillUnmount=function(){this.t=[]},U.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=I(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var V=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function W(n){return this.getChildContext=function(){return n.context},n.children}function P(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(W,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function $(n,e){var r=t(P,{__v:n,i:e});return r.containerInfo=e,r}(M.prototype=new n).__a=function(n){var t=this,e=D(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),V(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){V(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,z=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,B=\"undefined\"!=typeof document,H=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Z(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function Y(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var q=e.event;function G(){}function J(){return this.cancelBubble}function K(){return this.defaultPrevented}e.event=function(n){return q&&(n=q(n)),n.persist=G,n.isPropagationStopped=J,n.isDefaultPrevented=K,n.nativeEvent=n};var Q,X={configurable:!0,get:function(){return this.class}},nn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];B&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!H(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&z.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(X.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",X))}n.$$typeof=j,nn&&nn(n)};var tn=e.__r;e.__r=function(n){tn&&tn(n),Q=n.__c};var en={ReactCurrentDispatcher:{current:{readContext:function(n){return Q.__n[n.__c].props.value}}}},rn=\"17.0.2\";function un(n){return t.bind(null,n)}function on(n){return!!n&&n.$$typeof===j}function ln(n){return on(n)?f.apply(null,arguments):n}function cn(n){return!!n.__k&&(o(null,n),!0)}function fn(n){return n&&(n.base||1===n.nodeType&&n)||null}var an=function(n,t){return n(t)},sn=function(n,t){return n(t)},hn=u;function vn(n){n()}function dn(n){return n}function pn(){return[!1,vn]}var mn=d;function yn(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,u.__!==t()&&o({h:u})},[n,e,t]),v(function(){return u.__!==u.v()&&o({h:u}),n(function(){u.__!==u.v()&&o({h:u})})},[n]),e}var _n={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:mn,useTransition:pn,useDeferredValue:dn,useSyncExternalStore:yn,startTransition:vn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:A,render:Z,hydrate:Y,unmountComponentAtNode:cn,createPortal:$,createElement:t,createContext:l,createFactory:un,cloneElement:ln,createRef:c,Fragment:u,isValidElement:on,findDOMNode:fn,Component:n,PureComponent:E,memo:w,forwardRef:N,flushSync:sn,unstable_batchedUpdates:an,StrictMode:hn,Suspense:U,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:en};export{A as Children,E as PureComponent,hn as StrictMode,U as Suspense,M as SuspenseList,en as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ln as cloneElement,un as createFactory,$ as createPortal,_n as default,fn as findDOMNode,sn as flushSync,N as forwardRef,Y as hydrate,on as isValidElement,F as lazy,w as memo,Z as render,vn as startTransition,cn as unmountComponentAtNode,an as unstable_batchedUpdates,dn as useDeferredValue,mn as useInsertionEffect,yn as useSyncExternalStore,pn as useTransition,rn as version};\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,k.ref?k.ref:null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&(\"function\"==typeof u.type&&null!=x[h].__e&&x[h].__e==u.__d&&(u.__d=_(i,h+1)),N(x[h],x[h]));if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof H){if(g=u.props,m=(a=H.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in H&&H.prototype.render?u.__c=h=new H(g,x):(u.__c=h=new d(g,x),h.constructor=H,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=H.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,H.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==H.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==H.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,A=l.__r,C=0,\"prototype\"in H&&H.prototype.render)h.state=h.__s,h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context);else do{h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++C<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),$=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray($)?$:[$],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{d as Component,p as Fragment,q as cloneElement,B as createContext,h as createElement,y as createRef,h,S as hydrate,i as isValidElement,l as options,P as render,x as toChildArray};\n","import{options as n,Fragment as t}from\"preact\";var r,u,i,o,f=0,c=[],e=[],a=n.__b,v=n.__r,l=n.diffed,m=n.__c,d=n.unmount;function p(t,r){n.__h&&n.__h(u,t,f||r),f=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:e}),i.__[t]}function y(n){return f=1,h(C,n)}function h(n,t,i){var o=p(r++,2);if(o.t=n,!o.__c&&(o.__=[i?i(t):C(void 0,t),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=u,!u.u)){u.u=!0;var f=u.shouldComponentUpdate;u.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!!i&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function s(t,i){var o=p(r++,3);!n.__s&&B(o.__H,i)&&(o.__=t,o.i=i,u.__H.__h.push(o))}function _(t,i){var o=p(r++,4);!n.__s&&B(o.__H,i)&&(o.__=t,o.i=i,u.__h.push(o))}function A(n){return f=5,T(function(){return{current:n}},[])}function F(n,t,r){f=6,_(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function T(n,t){var u=p(r++,7);return B(u.__H,t)?(u.__V=n(),u.i=t,u.__h=n,u.__V):u.__}function q(n,t){return f=8,T(function(){return n},t)}function x(n){var t=u.context[n.__c],i=p(r++,9);return i.c=n,t?(null==i.__&&(i.__=!0,t.sub(u)),t.props.value):n.__}function P(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function V(n){var t=p(r++,10),i=y();return t.__=n,u.componentDidCatch||(u.componentDidCatch=function(n,r){t.__&&t.__(n,r),i[1](n)}),[i[0],function(){i[1](void 0)}]}function b(){var n=p(r++,11);return n.__||(n.__=\"P\"+function(n){for(var t=0,r=n.length;r>0;)t=(t<<5)-t+n.charCodeAt(--r)|0;return t}(u.__v.o)+r),n.__}function g(){for(var t;t=c.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(w),t.__H.__h.forEach(z),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){\"function\"!=typeof n.type||n.o||n.type===t?n.o||(n.o=n.__&&n.__.o?n.__.o:\"\"):n.o=(n.__&&n.__.o?n.__.o:\"\")+(n.__&&n.__.__k?n.__.__k.indexOf(n):0),u=null,a&&a(n)},n.__r=function(n){v&&v(n),r=0;var t=(u=n.__c).__H;t&&(i===u?(t.__h=[],u.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=e,n.__N=n.i=void 0})):(t.__h.forEach(w),t.__h.forEach(z),t.__h=[])),i=u},n.diffed=function(t){l&&l(t);var r=t.__c;r&&r.__H&&(r.__H.__h.length&&(1!==c.push(r)&&o===n.requestAnimationFrame||((o=n.requestAnimationFrame)||k)(g)),r.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==e&&(n.__=n.__V),n.i=void 0,n.__V=e})),i=u=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(w),t.__h=t.__h.filter(function(n){return!n.__||z(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),m&&m(t,r)},n.unmount=function(t){d&&d(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{w(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var j=\"function\"==typeof requestAnimationFrame;function k(n){var t,r=function(){clearTimeout(u),j&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);j&&(t=requestAnimationFrame(r))}function w(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function z(n){var t=u;n.__c=n.__(),u=t}function B(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function C(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,s as useEffect,V as useErrorBoundary,b as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,y as useState};\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};"],"names":["deepEqual","Component","ViewEncapsulation","ElementRef","Input","NgModule","Calendar","globalPlugins","ɵngcc0","hasOwnProperty","Object","prototype","deepCopy","input","Array","isArray","map","Date","valueOf","mapHash","shallowCopy","val","slice","call","assign","func","output","key","OPTION_IS_DEEP","headerToolbar","footerToolbar","events","eventSources","resources","FullCalendarComponent","constructor","element","optionSnapshot","ngAfterViewInit","deepChangeDetection","options","optionVal","optionName","calendar","nativeElement","render","ngDoCheck","newOptions","newProcessedOptions","anyChanges","oldOptionNames","keys","pauseRendering","resetOptions","ngAfterContentChecked","resumeRendering","ngOnDestroy","destroy","getApi","ɵfac","FullCalendarComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","template","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","propDecorators","ngDevMode","ɵsetClassMetadata","args","selector","None","FullCalendarModule","registerPlugins","plugins","push","FullCalendarModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","declarations","imports","exports","ngJitMode","ɵɵsetNgModuleScope","__assign","__spreadArray","__extends","createContext","createRef","createElement","Fragment","createPortal","EventSourceApi","context","internalEventSource","remove","dispatch","sourceId","refetch","sourceIds","isRefetch","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","style","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","split","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","reduce","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","dateInput","buildDateEnv$1","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","JSON","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","eventSourceDef$2","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","segInputs","hiddenEntries","segInputs_1","segInput","insertEntry","spanStart","spanEnd","thickness","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","nextLevel","insertAt","lateralEnd","buildEntryKey","newEntry","levelCnt","level","lateralStart","resCoord","entries","searchRes","binarySearch","getEntrySpanEnd","toRects","rects","entries_1","index","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMousedown","handleCloseClick","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","version","parseMarker","FullCalendarVDom","flushToDom","unmountComponentAtNode","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","preact","preactCompat","globalObj","globalThis","oldDebounceRendering","debounceRendering","callbackQ","execCallbackSync","FakeComponent","defaultValue","ContextType","origProvider","isNew","getChildContext","subs_1","_props","forceUpdate","old","node","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","visibility","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","forceHidden","excludeHidden","lateral","leadingEntry","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","queryEventInstanceHeights","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","DayGridView","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","Draggable","ListViewHeaderRow","dayDate","listDayFormat","sideText","listDaySideFormat","navLinkData","DEFAULT_TIME_FORMAT","ListViewEventRow","renderEventInnerContent","buildTimeContent","anchorAttrs","doAllDay","renderAllDayInner","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","setRootEl","dayDates","dayRanges","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","computeFgSegPlacements","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","nextLevelNodes_1","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","buildSegInputs","renderHiddenGroups","segRect","positionCss","computeSegTopBottomCss","computeSegLeftRightCss","hiddenGroup","compileSegsFromEntries","segLike","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","module","equal","RegExp","flags","toString","e","toChildArray","r","u","o","hydrate","l","cloneElement","f","useState","useId","useReducer","h","useEffect","v","useLayoutEffect","useRef","p","useImperativeHandle","useMemo","useCallback","_","useContext","useDebugValue","S","g","C","E","displayName","isReactComponent","__f","isPureReactComponent","R","__b","Symbol","for","N","$$typeof","k","A","count","only","toArray","O","__e","__","__c","__k","T","unmount","I","__H","__P","L","__v","insertBefore","__d","U","__u","D","__a","F","default","M","__R","__h","__O","pop","V","delete","revealOrder","size","W","P","$","containerInfo","Map","set","z","B","H","Z","textContent","Y","writable","q","G","J","cancelBubble","K","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","Q","X","class","nn","vnode","toLowerCase","multiple","selected","tn","__r","ReactCurrentDispatcher","readContext","__n","rn","un","ln","cn","fn","base","an","sn","hn","vn","dn","pn","mn","yn","_n","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","Children","createFactory","isValidElement","findDOMNode","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","some","ownerSVGElement","nextSibling","setProperty","cssText","setAttribute","removeAttribute","__E","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","checked","getDerivedStateFromError","componentDidCatch","__V","__N","every","charCodeAt","cancelAnimationFrame","useErrorBoundary"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}